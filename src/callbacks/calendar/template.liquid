{% include 'partials/head.liquid' %}

<div class="layout layout--row">
  <div class="flex flex--col w--full p--2 gap--small">
    <h1 class="title text--center mb--2">Weekly Calendar</h1>
    
    <div class="calendar-grid">
      {% for day in data.days %}
      <div class="calendar-day">
        <div class="day-header bg--gray-10 p--1 text--center rounded--xsmall mb--1">
          <div class="day-name text--bold">{{ day.dayOfWeek }}</div>
          <div class="day-date text--small">{{ day.date }}</div>
        </div>
        
        <div class="day-events flex flex--col gap--xsmall">
          {% if day.events.size > 0 %}
            {% for event in day.events %}
              <div class="event-item bg--white p--1 rounded--xsmall border--1">
                <div class="event-title text--bold text--small">{{ event.title }}</div>
                {% if event.allDay %}
                  <div class="event-time text--xsmall text--gray">All Day</div>
                {% else %}
                  <div class="event-time text--xsmall text--gray">{{ event.start }} - {{ event.end }}</div>
                {% endif %}
              </div>
            {% endfor %}
          {% else %}
            <div class="no-events text--xsmall text--gray text--center p--1">No events</div>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  .calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
    width: 100%;
  }
  
  .calendar-day {
    display: flex;
    flex-direction: column;
    min-height: 200px;
  }
  
  .day-header {
    flex-shrink: 0;
  }
  
  .day-name {
    font-size: 16px;
    font-weight: bold;
    line-height: 1.2;
  }
  
  .day-date {
    font-size: 12px;
    margin-top: 2px;
  }
  
  .day-events {
    flex: 1;
    overflow: hidden;
  }
  
  .event-item {
    border: 1px solid #333;
    min-height: 50px;
  }
  
  .event-title {
    font-size: 13px;
    line-height: 1.3;
    word-wrap: break-word;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }
  
  .event-time {
    font-size: 11px;
    margin-top: 4px;
    color: #666;
  }
  
  .no-events {
    font-size: 11px;
    color: #999;
    font-style: italic;
  }
  
  /* Ensure the layout fits the inkplate dimensions */
  .layout {
    max-width: 1200px;
    max-height: 825px;
  }
</style>

{% include 'partials/footer.liquid' %}
