<div class="layout layout--row">
  <div class="flex flex--col w--full p--2 gap--small">
    <span class="title">{{ data.title | default: runtimeConfig.title }}</span>

    <div class="grid grid--cols-7 gap--xsmall h--min-64">
      {% for day in data.days %}
      <div class="calendar-day ">
        <div class="day-header p--1 text--center rounded--xsmall mb--2 bg-black">
          <span class="label label--inverted">{{ day.date }}</span>
        </div>

        <div class="day-events flex flex--col gap--xsmall h--full rounded-b--xsmall p--xsmall">
          <!-- All Day Events -->
          <div class="event-category p--xsmall">
            <div class="mb--xsmall">
              <span class="label label--xsmall label--muted">All Day</span>
            </div>
            {% if day.eventsByCategory.allDay.size > 0 %}
              {% for event in day.eventsByCategory.allDay %}
                <div class="item mb--xsmall">
                  <div class="content">
                    <span class="title title--xsmall">{{ event.title }}</span>
                  </div>
                </div>
              {% endfor %}
            {% endif %}
          </div>

          <!-- Morning Events -->
          <div class="event-category p--xsmall">
            <div class="mb--xsmall">
              <span class="label label--xsmall label--muted">Morning</span>
            </div>
            {% if day.eventsByCategory.morning.size > 0 %}
              {% for event in day.eventsByCategory.morning %}
                <div class="item mb--xsmall">
                  <div class="content">
                    <span class="title title--xsmall">{{ event.title }}</span>
                    <span class="label label--xsmall">{{ event.start }}</span>
                  </div>
                </div>
              {% endfor %}
            {% endif %}
          </div>

          <!-- Afternoon Events -->
          <div class="event-category p--xsmall">
            <div class="mb--xsmall">
              <span class="label label--xsmall label--muted">Afternoon</span>
            </div>
            {% if day.eventsByCategory.afternoon.size > 0 %}
              {% for event in day.eventsByCategory.afternoon %}
                <div class="item mb--xsmall">
                  <div class="content">
                    <span class="title title--xsmall">{{ event.title }}</span>
                    <span class="label label--xsmall">{{ event.start }}</span>
                  </div>
                </div>
              {% endfor %}
            {% endif %}
          </div>

          <!-- Evening Events -->
          <div class="event-category p--xsmall">
            <div class="mb--xsmall">
              <span class="label label--xsmall label--muted">Evening</span>
            </div>
            {% if day.eventsByCategory.evening.size > 0 %}
              {% for event in day.eventsByCategory.evening %}
                <div class="item mb--xsmall">
                  <div class="content">
                    <span class="title title--xsmall">{{ event.title }}</span>
                    <span class="label label--xsmall">{{ event.start }}</span>
                  </div>
                </div>
              {% endfor %}
            {% endif %}
          </div>

          <!-- Night Events -->
          <div class="event-category p--xsmall">
            <div class="mb--xsmall">
              <span class="label label--xsmall label--muted">Night</span>
            </div>
            {% if day.eventsByCategory.night.size > 0 %}
              {% for event in day.eventsByCategory.night %}
                <div class="item mb--xsmall">
                  <div class="content">
                    <span class="title title--xsmall">{{ event.title }}</span>
                    <span class="label label--xsmall">{{ event.start }}</span>
                  </div>
                </div>
              {% endfor %}
            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
<style>
  .day-events {
    border: 1px dashed black;
    border-top: 0;
    padding-top: 30px;
    margin-top: -25px;
  }
  
  .event-category {
    min-height: 40px;
    border-bottom: 1px solid #eee;
  }
  
  .event-category:last-child {
    border-bottom: none;
  }
</style>
